angular.module("grapeviin",["ui.router"]).config(function(n,i){i.otherwise("/"),n.state("home",{url:"/",templateUrl:"html/home/home.view.html",controller:"HomeController as vm"}).state("landing",{url:"/landing/?link=",templateUrl:"html/landing/landing.view.html",controller:"LandingController as vm"})}).run(function(){console.log("Ready to drink!")}),angular.module("grapeviin").service("LinkService",function(){var n={links:[{text:"foo",clicks:0},{text:"bar",clicks:0}]};return n.getLinks=function(){var i=localStorage.getItem("links");null!=i&&(n.links=JSON.parse(i))},n.getLinkByText=function(i){return n.links.find(function(n){return n.text===i})},n.addLink=function(i){n.links.push({text:i,clicks:0}),n.storeLinks()},n.saveLink=function(i,e){n.links[i].editing=!1,n.links[i].text=e,n.storeLinks()},n.removeLink=function(i){i>-1&&n.links.splice(i,1),n.storeLinks()},n.storeLinks=function(){localStorage.setItem("links",JSON.stringify(n.links))},n.incrementLink=function(i){var e=n.links.findIndex(function(n){return n.text===i.text});n.links[e].clicks+=1,n.storeLinks()},n}),angular.module("grapeviin").controller("LandingController",function(n,i){var e=this;e.link={text:"",clicks:0},e.LinkService=i,e.init=function(){e.link=e.LinkService.getLinkByText(n.link),e.LinkService.incrementLink(e.link)},e.init()}),angular.module("grapeviin").controller("HomeController",function(n,i){var e=this;e.LinkService=i,e.sortType="clicks",e.sortReverse=!0,e.init=function(){e.LinkService.getLinks()},e.addLink=function(n){e.LinkService.addLink(n)},e.removeLink=function(n){e.LinkService.removeLink(n)},e.editLink=function(n){e.LinkService.links[n].editing=!0},e.saveLink=function(n,i){e.LinkService.saveLink(n,i)},e.init()});