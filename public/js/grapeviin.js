angular.module("grapeviin",["ngRoute"]).config(function(n){n.when("/",{templateUrl:"public/html/home/home.view.html",controller:"HomeController as vm"}).when("/landing/:link",{templateUrl:"public/html/landing/landing.view.html",controller:"LandingController as vm"}).when("/:link",{redirectTo:function(n,i,e){return"/landing/"+n.link}}).otherwise({redirectTo:"/"})}).run(function(){console.log("Ready to link!")}),angular.module("grapeviin").service("LinkService",function(){var n={links:[]};n.getLinks=function(){var i=localStorage.getItem("links");null!=i&&(n.links=JSON.parse(i))},n.getLinkByText=function(i){return n.links.find(function(n){return n.text===i})},n.addLink=function(e){n.links.push({text:e,clicks:0}),i()},n.editLink=function(i){var e=n.links.indexOf(i);e>-1&&(n.links.forEach(function(n){n.editing=!1}),n.links[e].editing=!0)},n.saveLink=function(e,t){var o=n.links.indexOf(e);n.links[o].editing=!1,n.links[o].text=t,i()},n.removeLink=function(e){var t=n.links.indexOf(e);t>-1&&n.links.splice(t,1),i()},n.incrementLink=function(e){var t=n.links.indexOf(e);n.links[t].clicks+=1,i()};var i=function(){localStorage.setItem("links",JSON.stringify(n.links))};return n.getLinks(),n}),angular.module("grapeviin").service("SortService",function(){var n={options:{type:"clicks",reverse:!1}};return n.getOptions=function(){var i=localStorage.getItem("sortOptions");null!=i&&(n.options=JSON.parse(i))},n.setOptions=function(i){n.options=i,localStorage.setItem("sortOptions",JSON.stringify(n.options))},n}),angular.module("grapeviin").controller("HomeController",function(n,i,e,t){var o=this;o.LinkService=e,o.SortService=t,o.sortOptions={},o.init=function(){o.LinkService.getLinks(),o.SortService.getOptions()},o.addLink=function(n){o.LinkService.addLink(n)},o.editLink=function(n){o.LinkService.editLink(n)},o.saveLink=function(n,i){n.text!==i&&o.LinkService.saveLink(n,i)},o.removeLink=function(n){o.LinkService.removeLink(n)},o.setSortOptions=function(n){o.sortOptions=n,o.SortService.setOptions(n)},o.init()}),angular.module("grapeviin").controller("LandingController",function(n,i,e){var t=this;t.link={text:"",clicks:0},t.LinkService=e,t.init=function(){null!==n.link&&(t.link=t.LinkService.getLinkByText(n.link),t.LinkService.incrementLink(t.link)),void 0===t.link&&i.path("/").replace()},t.init()});